{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\chatapp\\\\client\\\\src\\\\pages\\\\Register.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport * as Yup from 'yup';\nimport { useFormik } from \"formik\";\nimport { connect, useSelector, useDispatch } from 'react-redux';\nimport { login, signup } from '../redux/user/actions';\nimport { Spinner } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Register = () => {\n  _s();\n\n  const {\n    user,\n    error,\n    loading\n  } = useSelector(state => state.user);\n  const dispatch = useDispatch();\n  const SUPPORTED_FORMATS = [\"jpg\", \"jpeg\", \"gif\", \"png\", \"webp\"];\n  const formik = useFormik({\n    initialValues: {\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n      password: \"\",\n      confirmPassword: \"\",\n      profileImage: \"\"\n    },\n    validationSchema: Yup.object({\n      firstName: Yup.string().max(20, 'Must be 15 characters or less').min(3).required('please enter your first name'),\n      lastName: Yup.string().max(20, 'Must be 20 characters or less').min(3).required('please enter your last name'),\n      email: Yup.string().email('Email is invalid').required('Email is required'),\n      password: Yup.string().min(8, 'Password must be at least 8 charaters').required('Password is required'),\n      confirmPassword: Yup.string().oneOf([Yup.ref('password'), null], 'Password musts match').required('Confirm password is required'),\n      profileImage: Yup.mixed().required(\"You need to provide a file\").test(\"fileFormat\", \"Unsupported Format, valid formats: png,jpeg,gif,jpg\", value => value && SUPPORTED_FORMATS.includes(value.split('.')[1]))\n    }),\n    onSubmit: values => {\n      console.log('values', values);\n      const data = new FormData();\n      data.append(\"userDetails\", JSON.stringify(values));\n      data.append('image', formik.values.profileImage);\n      dispatch(signup(data));\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"book book--register\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"book__form book__form--register\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: formik.handleSubmit,\n            enctype: \"multipart/form-data\",\n            class: \"form\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"u-center-text u-margin-bottom-medium\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                class: \"heading-secondary\",\n                children: \"Start messaging now\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 29\n              }, this), error && /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-danger\",\n                children: error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 39\n              }, this), loading && /*#__PURE__*/_jsxDEV(Spinner, {\n                animation: \"border\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 25\n            }, this), \"div\", /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form__group\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                class: \"form__input\",\n                required: true,\n                name: \"firstName\",\n                id: \"firstName\",\n                placeholder: \"first name\",\n                onChange: formik.handleChange,\n                value: formik.values.firstName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                for: \"firstName\",\n                class: \"form__label\",\n                children: \"first name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 29\n              }, this), formik.touched.firstName && formik.errors.firstName ? /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"text-danger\",\n                children: [formik.errors.firstName, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 84\n              }, this) : \"\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form__group\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                class: \"form__input\",\n                required: true,\n                id: \"lastName\",\n                name: \"lastName\",\n                placeholder: \"last name\",\n                onChange: formik.handleChange,\n                value: formik.values.lastName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                for: \"lastName\",\n                class: \"form__label\",\n                children: \"last name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 29\n              }, this), formik.touched.lastName && formik.errors.lastName ? /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"text-danger\",\n                children: [formik.errors.lastName, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 82\n              }, this) : \"\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form__group\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                class: \"form__input\",\n                required: true,\n                name: \"email\",\n                id: \"email\",\n                placeholder: \"Email\",\n                onChange: formik.handleChange,\n                value: formik.values.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                for: \"email\",\n                class: \"form__label\",\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 29\n              }, this), formik.touched.email && formik.errors.email ? /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"text-danger\",\n                children: [formik.errors.email, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 76\n              }, this) : \"\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form__group\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                class: \"form__input\",\n                placeholder: \"Password\",\n                required: true,\n                id: \"password\",\n                onChange: formik.handleChange,\n                value: formik.values.password\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                for: \"password\",\n                class: \"form__label\",\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 29\n              }, this), formik.touched.password && formik.errors.password ? /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"text-danger\",\n                children: [formik.errors.password, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 82\n              }, this) : \"\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form__group\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                class: \"form__input\",\n                placeholder: \"confirm Password\",\n                required: true,\n                name: \"confirmPassword\",\n                id: \"confirmPassword\",\n                onChange: formik.handleChange,\n                value: formik.values.confirmPassword\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                for: \"confirmPassword\",\n                class: \"form__label\",\n                children: \"confirm Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 29\n              }, this), formik.touched.confirmPassword && formik.errors.confirmPassword ? /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"text-danger\",\n                children: [formik.errors.confirmPassword, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 96\n              }, this) : \"\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form__group\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                class: \"form__input\",\n                placeholder: \"confirm Password\",\n                required: true,\n                name: \"profileImage\",\n                id: \"confirmPassword\",\n                onChange: formik.handleChange,\n                value: formik.values.profileImage\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                for: \"confirmPassword\",\n                class: \"form__label\",\n                children: \"profile Image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 29\n              }, this), formik.touched.profileImage && formik.errors.profileImage ? /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-danger\",\n                children: [formik.errors.profileImage, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 90\n              }, this) : \"\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form__group\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                class: \"btn btn--green u-center-text\",\n                children: \"Register\\u2192\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                type: \"submit\",\n                class: \"btn  u-center-text\",\n                to: \"/login\",\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(Register, \"2JPq0x0GSt90ssrOHDCiIJkXd4c=\", false, function () {\n  return [useSelector, useDispatch, useFormik];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["C:/Users/User/Documents/chatapp/client/src/pages/Register.jsx"],"names":["React","useEffect","useState","Yup","useFormik","connect","useSelector","useDispatch","login","signup","Spinner","Link","Register","user","error","loading","state","dispatch","SUPPORTED_FORMATS","formik","initialValues","firstName","lastName","email","password","confirmPassword","profileImage","validationSchema","object","string","max","min","required","oneOf","ref","mixed","test","value","includes","split","onSubmit","values","console","log","data","FormData","append","JSON","stringify","handleSubmit","handleChange","touched","errors"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,SAASC,SAAT,QAA0B,QAA1B;AACA,SAASC,OAAT,EAAkBC,WAAlB,EAA+BC,WAA/B,QAAkD,aAAlD;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,uBAA9B;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,SAASC,IAAT,QAAqB,kBAArB;;;;AACA,MAAMC,QAAQ,GAAG,MAAM;AAAA;;AACnB,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,KAAR;AAAeC,IAAAA;AAAf,MAA2BT,WAAW,CAACU,KAAK,IAAIA,KAAK,CAACH,IAAhB,CAA5C;AACA,QAAMI,QAAQ,GAAGV,WAAW,EAA5B;AACA,QAAMW,iBAAiB,GAAG,CAAC,KAAD,EAAQ,MAAR,EAAgB,KAAhB,EAAuB,KAAvB,EAA8B,MAA9B,CAA1B;AACA,QAAMC,MAAM,GAAGf,SAAS,CAAC;AACrBgB,IAAAA,aAAa,EAAE;AACXC,MAAAA,SAAS,EAAE,EADA;AAEXC,MAAAA,QAAQ,EAAE,EAFC;AAGXC,MAAAA,KAAK,EAAE,EAHI;AAIXC,MAAAA,QAAQ,EAAE,EAJC;AAKXC,MAAAA,eAAe,EAAE,EALN;AAMXC,MAAAA,YAAY,EAAE;AANH,KADM;AASrBC,IAAAA,gBAAgB,EAAExB,GAAG,CAACyB,MAAJ,CAAW;AACzBP,MAAAA,SAAS,EAAElB,GAAG,CAAC0B,MAAJ,GACNC,GADM,CACF,EADE,EACE,+BADF,EAENC,GAFM,CAEF,CAFE,EAGNC,QAHM,CAGG,8BAHH,CADc;AAKzBV,MAAAA,QAAQ,EAAEnB,GAAG,CAAC0B,MAAJ,GACLC,GADK,CACD,EADC,EACG,+BADH,EAELC,GAFK,CAED,CAFC,EAGLC,QAHK,CAGI,6BAHJ,CALe;AASzBT,MAAAA,KAAK,EAAEpB,GAAG,CAAC0B,MAAJ,GACFN,KADE,CACI,kBADJ,EAEFS,QAFE,CAEO,mBAFP,CATkB;AAYzBR,MAAAA,QAAQ,EAAErB,GAAG,CAAC0B,MAAJ,GACLE,GADK,CACD,CADC,EACE,uCADF,EAELC,QAFK,CAEI,sBAFJ,CAZe;AAezBP,MAAAA,eAAe,EAAEtB,GAAG,CAAC0B,MAAJ,GACZI,KADY,CACN,CAAC9B,GAAG,CAAC+B,GAAJ,CAAQ,UAAR,CAAD,EAAsB,IAAtB,CADM,EACuB,sBADvB,EAEZF,QAFY,CAEH,8BAFG,CAfQ;AAkBzBN,MAAAA,YAAY,EAAEvB,GAAG,CAACgC,KAAJ,GAAYH,QAAZ,CAAqB,4BAArB,EAAmDI,IAAnD,CAAwD,YAAxD,EACV,qDADU,EAEVC,KAAK,IAAIA,KAAK,IAAInB,iBAAiB,CAACoB,QAAlB,CAA2BD,KAAK,CAACE,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAA3B,CAFR;AAlBW,KAAX,CATG;AA+BrBC,IAAAA,QAAQ,EAAGC,MAAD,IAAY;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBF,MAAtB;AACA,YAAMG,IAAI,GAAG,IAAIC,QAAJ,EAAb;AACAD,MAAAA,IAAI,CAACE,MAAL,CAAY,aAAZ,EAA2BC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAA3B;AACAG,MAAAA,IAAI,CAACE,MAAL,CAAY,OAAZ,EAAqB3B,MAAM,CAACsB,MAAP,CAAcf,YAAnC;AACAT,MAAAA,QAAQ,CAACR,MAAM,CAACmC,IAAD,CAAP,CAAR;AACH;AArCoB,GAAD,CAAxB;AAuCA,sBAAO;AAAA,2BACH;AAAK,MAAA,KAAK,EAAC,KAAX;AAAA,6BACI;AAAK,QAAA,KAAK,EAAC,qBAAX;AAAA,+BACI;AAAK,UAAA,KAAK,EAAC,iCAAX;AAAA,iCACI;AAAM,YAAA,QAAQ,EAAEzB,MAAM,CAAC8B,YAAvB;AAAqC,YAAA,OAAO,EAAC,qBAA7C;AAAmE,YAAA,KAAK,EAAC,MAAzE;AAAA,oCACI;AAAK,cAAA,KAAK,EAAC,sCAAX;AAAA,sCACI;AAAI,gBAAA,KAAK,EAAC,mBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ,EAGKnC,KAAK,iBAAI;AAAI,gBAAA,SAAS,EAAC,aAAd;AAAA,0BAA6BA;AAA7B;AAAA;AAAA;AAAA;AAAA,sBAHd,EAIKC,OAAO,iBAAI,QAAC,OAAD;AAAS,gBAAA,SAAS,EAAC;AAAnB;AAAA;AAAA;AAAA;AAAA,sBAJhB;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,sBAQI;AAAK,cAAA,KAAK,EAAC,aAAX;AAAA,sCACI;AACI,gBAAA,IAAI,EAAC,MADT;AAEI,gBAAA,KAAK,EAAC,aAFV;AAGI,gBAAA,QAAQ,MAHZ;AAII,gBAAA,IAAI,EAAC,WAJT;AAKI,gBAAA,EAAE,EAAC,WALP;AAMI,gBAAA,WAAW,EAAC,YANhB;AAOI,gBAAA,QAAQ,EAAEI,MAAM,CAAC+B,YAPrB;AAQI,gBAAA,KAAK,EAAE/B,MAAM,CAACsB,MAAP,CAAcpB;AARzB;AAAA;AAAA;AAAA;AAAA,sBADJ,eAWI;AAAO,gBAAA,GAAG,EAAC,WAAX;AAAuB,gBAAA,KAAK,EAAC,aAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAXJ,EAYKF,MAAM,CAACgC,OAAP,CAAe9B,SAAf,IAA4BF,MAAM,CAACiC,MAAP,CAAc/B,SAA1C,gBAAsD;AAAO,gBAAA,SAAS,EAAC,aAAjB;AAAA,2BAAgCF,MAAM,CAACiC,MAAP,CAAc/B,SAA9C;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAtD,GAA0H,EAZ/H;AAAA;AAAA;AAAA;AAAA;AAAA,oBARJ,eAsBI;AAAK,cAAA,KAAK,EAAC,aAAX;AAAA,sCACI;AACI,gBAAA,IAAI,EAAC,MADT;AAEI,gBAAA,KAAK,EAAC,aAFV;AAGI,gBAAA,QAAQ,MAHZ;AAII,gBAAA,EAAE,EAAC,UAJP;AAKI,gBAAA,IAAI,EAAC,UALT;AAMI,gBAAA,WAAW,EAAC,WANhB;AAOI,gBAAA,QAAQ,EAAEF,MAAM,CAAC+B,YAPrB;AAQI,gBAAA,KAAK,EAAE/B,MAAM,CAACsB,MAAP,CAAcnB;AARzB;AAAA;AAAA;AAAA;AAAA,sBADJ,eAWI;AAAO,gBAAA,GAAG,EAAC,UAAX;AAAsB,gBAAA,KAAK,EAAC,aAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAXJ,EAYKH,MAAM,CAACgC,OAAP,CAAe7B,QAAf,IAA2BH,MAAM,CAACiC,MAAP,CAAc9B,QAAzC,gBAAoD;AAAO,gBAAA,SAAS,EAAC,aAAjB;AAAA,2BAAgCH,MAAM,CAACiC,MAAP,CAAc9B,QAA9C;AAAA;AAAA;AAAA;AAAA;AAAA,sBAApD,GAAuH,EAZ5H;AAAA;AAAA;AAAA;AAAA;AAAA,oBAtBJ,eAoCI;AAAK,cAAA,KAAK,EAAC,aAAX;AAAA,sCACI;AACI,gBAAA,IAAI,EAAC,OADT;AAEI,gBAAA,KAAK,EAAC,aAFV;AAGI,gBAAA,QAAQ,MAHZ;AAII,gBAAA,IAAI,EAAC,OAJT;AAKI,gBAAA,EAAE,EAAC,OALP;AAMI,gBAAA,WAAW,EAAC,OANhB;AAOI,gBAAA,QAAQ,EAAEH,MAAM,CAAC+B,YAPrB;AAQI,gBAAA,KAAK,EAAE/B,MAAM,CAACsB,MAAP,CAAclB;AARzB;AAAA;AAAA;AAAA;AAAA,sBADJ,eAWI;AAAO,gBAAA,GAAG,EAAC,OAAX;AAAmB,gBAAA,KAAK,EAAC,aAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAXJ,EAYKJ,MAAM,CAACgC,OAAP,CAAe5B,KAAf,IAAwBJ,MAAM,CAACiC,MAAP,CAAc7B,KAAtC,gBAA8C;AAAO,gBAAA,SAAS,EAAC,aAAjB;AAAA,2BAAgCJ,MAAM,CAACiC,MAAP,CAAc7B,KAA9C;AAAA;AAAA;AAAA;AAAA;AAAA,sBAA9C,GAA8G,EAZnH;AAAA;AAAA;AAAA;AAAA;AAAA,oBApCJ,eAkDI;AAAK,cAAA,KAAK,EAAC,aAAX;AAAA,sCACI;AACI,gBAAA,IAAI,EAAC,UADT;AAEI,gBAAA,KAAK,EAAC,aAFV;AAGI,gBAAA,WAAW,EAAC,UAHhB;AAII,gBAAA,QAAQ,MAJZ;AAKI,gBAAA,EAAE,EAAC,UALP;AAMI,gBAAA,QAAQ,EAAEJ,MAAM,CAAC+B,YANrB;AAOI,gBAAA,KAAK,EAAE/B,MAAM,CAACsB,MAAP,CAAcjB;AAPzB;AAAA;AAAA;AAAA;AAAA,sBADJ,eAUI;AAAO,gBAAA,GAAG,EAAC,UAAX;AAAsB,gBAAA,KAAK,EAAC,aAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAVJ,EAWKL,MAAM,CAACgC,OAAP,CAAe3B,QAAf,IAA2BL,MAAM,CAACiC,MAAP,CAAc5B,QAAzC,gBAAoD;AAAO,gBAAA,SAAS,EAAC,aAAjB;AAAA,2BAAgCL,MAAM,CAACiC,MAAP,CAAc5B,QAA9C;AAAA;AAAA;AAAA;AAAA;AAAA,sBAApD,GAAuH,EAX5H;AAAA;AAAA;AAAA;AAAA;AAAA,oBAlDJ,eA+DI;AAAK,cAAA,KAAK,EAAC,aAAX;AAAA,sCACI;AACI,gBAAA,IAAI,EAAC,UADT;AAEI,gBAAA,KAAK,EAAC,aAFV;AAGI,gBAAA,WAAW,EAAC,kBAHhB;AAII,gBAAA,QAAQ,MAJZ;AAKI,gBAAA,IAAI,EAAC,iBALT;AAMI,gBAAA,EAAE,EAAC,iBANP;AAOI,gBAAA,QAAQ,EAAEL,MAAM,CAAC+B,YAPrB;AAQI,gBAAA,KAAK,EAAE/B,MAAM,CAACsB,MAAP,CAAchB;AARzB;AAAA;AAAA;AAAA;AAAA,sBADJ,eAWI;AAAO,gBAAA,GAAG,EAAC,iBAAX;AAA6B,gBAAA,KAAK,EAAC,aAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAXJ,EAYKN,MAAM,CAACgC,OAAP,CAAe1B,eAAf,IAAkCN,MAAM,CAACiC,MAAP,CAAc3B,eAAhD,gBAAkE;AAAO,gBAAA,SAAS,EAAC,aAAjB;AAAA,2BAAgCN,MAAM,CAACiC,MAAP,CAAc3B,eAA9C;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAlE,GAA4I,EAZjJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBA/DJ,eA8EI;AAAK,cAAA,KAAK,EAAC,aAAX;AAAA,sCACI;AACI,gBAAA,IAAI,EAAC,MADT;AAEI,gBAAA,KAAK,EAAC,aAFV;AAGI,gBAAA,WAAW,EAAC,kBAHhB;AAII,gBAAA,QAAQ,MAJZ;AAKI,gBAAA,IAAI,EAAC,cALT;AAMI,gBAAA,EAAE,EAAC,iBANP;AAOI,gBAAA,QAAQ,EAAEN,MAAM,CAAC+B,YAPrB;AAQI,gBAAA,KAAK,EAAE/B,MAAM,CAACsB,MAAP,CAAcf;AARzB;AAAA;AAAA;AAAA;AAAA,sBADJ,eAWI;AAAO,gBAAA,GAAG,EAAC,iBAAX;AAA6B,gBAAA,KAAK,EAAC,aAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAXJ,EAYKP,MAAM,CAACgC,OAAP,CAAezB,YAAf,IAA+BP,MAAM,CAACiC,MAAP,CAAc1B,YAA7C,gBAA4D;AAAG,gBAAA,SAAS,EAAC,aAAb;AAAA,2BAA4BP,MAAM,CAACiC,MAAP,CAAc1B,YAA1C;AAAA;AAAA;AAAA;AAAA;AAAA,sBAA5D,GAA2H,EAZhI;AAAA;AAAA;AAAA;AAAA;AAAA,oBA9EJ,eA6FI;AAAK,cAAA,KAAK,EAAC,aAAX;AAAA,sCACI;AAAQ,gBAAA,IAAI,EAAC,QAAb;AAAsB,gBAAA,KAAK,EAAC,8BAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAII,QAAC,IAAD;AAAM,gBAAA,IAAI,EAAC,QAAX;AAAoB,gBAAA,KAAK,EAAC,oBAA1B;AAA+C,gBAAA,EAAE,EAAC,QAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBA7FJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADG,mBAAP;AA8GH,CAzJD;;GAAMd,Q;UAC+BN,W,EAChBC,W,EAEFH,S;;;KAJbQ,Q;AA0JN,eAAeA,QAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport * as Yup from 'yup'\r\nimport { useFormik } from \"formik\";\r\nimport { connect, useSelector, useDispatch } from 'react-redux';\r\nimport { login, signup } from '../redux/user/actions'\r\nimport { Spinner } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom'\r\nconst Register = () => {\r\n    const { user, error, loading } = useSelector(state => state.user)\r\n    const dispatch = useDispatch()\r\n    const SUPPORTED_FORMATS = [\"jpg\", \"jpeg\", \"gif\", \"png\", \"webp\"];\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            firstName: \"\",\r\n            lastName: \"\",\r\n            email: \"\",\r\n            password: \"\",\r\n            confirmPassword: \"\",\r\n            profileImage: \"\"\r\n        },\r\n        validationSchema: Yup.object({\r\n            firstName: Yup.string()\r\n                .max(20, 'Must be 15 characters or less')\r\n                .min(3)\r\n                .required('please enter your first name'),\r\n            lastName: Yup.string()\r\n                .max(20, 'Must be 20 characters or less')\r\n                .min(3)\r\n                .required('please enter your last name'),\r\n            email: Yup.string()\r\n                .email('Email is invalid')\r\n                .required('Email is required'),\r\n            password: Yup.string()\r\n                .min(8, 'Password must be at least 8 charaters')\r\n                .required('Password is required'),\r\n            confirmPassword: Yup.string()\r\n                .oneOf([Yup.ref('password'), null], 'Password musts match')\r\n                .required('Confirm password is required'),\r\n            profileImage: Yup.mixed().required(\"You need to provide a file\").test(\"fileFormat\",\r\n                \"Unsupported Format, valid formats: png,jpeg,gif,jpg\",\r\n                value => value && SUPPORTED_FORMATS.includes(value.split('.')[1])),\r\n        }),\r\n        onSubmit: (values) => {\r\n            console.log('values', values)\r\n            const data = new FormData();\r\n            data.append(\"userDetails\", JSON.stringify(values))\r\n            data.append('image', formik.values.profileImage)\r\n            dispatch(signup(data))\r\n        },\r\n    })\r\n    return <>\r\n        <div class=\"row\">\r\n            <div class=\"book book--register\">\r\n                <div class=\"book__form book__form--register\">\r\n                    <form onSubmit={formik.handleSubmit} enctype=\"multipart/form-data\" class=\"form\">\r\n                        <div class=\"u-center-text u-margin-bottom-medium\">\r\n                            <h2 class=\"heading-secondary\">Start messaging now</h2>\r\n                            <h2>login</h2>\r\n                            {error && <h3 className='text-danger'>{error}</h3>}\r\n                            {loading && <Spinner animation=\"border\" />}\r\n                        </div>\r\n                        div\r\n                        <div class=\"form__group\">\r\n                            <input\r\n                                type=\"text\"\r\n                                class=\"form__input\"\r\n                                required\r\n                                name=\"firstName\"\r\n                                id=\"firstName\"\r\n                                placeholder=\"first name\"\r\n                                onChange={formik.handleChange}\r\n                                value={formik.values.firstName}\r\n                            />\r\n                            <label for=\"firstName\" class=\"form__label\">first name</label>\r\n                            {formik.touched.firstName && formik.errors.firstName ? <small className='text-danger'>{formik.errors.firstName} </small> : \"\"}\r\n                        </div>\r\n                        <div class=\"form__group\">\r\n                            <input\r\n                                type=\"text\"\r\n                                class=\"form__input\"\r\n                                required\r\n                                id=\"lastName\"\r\n                                name=\"lastName\"\r\n                                placeholder=\"last name\"\r\n                                onChange={formik.handleChange}\r\n                                value={formik.values.lastName}\r\n                            />\r\n                            <label for=\"lastName\" class=\"form__label\">last name</label>\r\n                            {formik.touched.lastName && formik.errors.lastName ? <small className='text-danger'>{formik.errors.lastName} </small> : \"\"}\r\n                        </div>\r\n                        <div class=\"form__group\">\r\n                            <input\r\n                                type=\"email\"\r\n                                class=\"form__input\"\r\n                                required\r\n                                name='email'\r\n                                id=\"email\"\r\n                                placeholder=\"Email\"\r\n                                onChange={formik.handleChange}\r\n                                value={formik.values.email}\r\n                            />\r\n                            <label for=\"email\" class=\"form__label\">Email</label>\r\n                            {formik.touched.email && formik.errors.email ? <small className='text-danger'>{formik.errors.email} </small> : \"\"}\r\n                        </div>\r\n                        <div class=\"form__group\">\r\n                            <input\r\n                                type=\"password\"\r\n                                class=\"form__input\"\r\n                                placeholder=\"Password\"\r\n                                required\r\n                                id=\"password\"\r\n                                onChange={formik.handleChange}\r\n                                value={formik.values.password}\r\n                            />\r\n                            <label for=\"password\" class=\"form__label\">Password</label>\r\n                            {formik.touched.password && formik.errors.password ? <small className='text-danger'>{formik.errors.password} </small> : \"\"}\r\n                        </div>\r\n                        <div class=\"form__group\">\r\n                            <input\r\n                                type=\"password\"\r\n                                class=\"form__input\"\r\n                                placeholder=\"confirm Password\"\r\n                                required\r\n                                name='confirmPassword'\r\n                                id=\"confirmPassword\"\r\n                                onChange={formik.handleChange}\r\n                                value={formik.values.confirmPassword}\r\n                            />\r\n                            <label for=\"confirmPassword\" class=\"form__label\">confirm Password</label>\r\n                            {formik.touched.confirmPassword && formik.errors.confirmPassword ? <small className='text-danger'>{formik.errors.confirmPassword} </small> : \"\"}\r\n\r\n                        </div>\r\n                        <div class=\"form__group\">\r\n                            <input\r\n                                type=\"file\"\r\n                                class=\"form__input\"\r\n                                placeholder=\"confirm Password\"\r\n                                required\r\n                                name='profileImage'\r\n                                id=\"confirmPassword\"\r\n                                onChange={formik.handleChange}\r\n                                value={formik.values.profileImage}\r\n                            />\r\n                            <label for=\"confirmPassword\" class=\"form__label\">profile Image</label>\r\n                            {formik.touched.profileImage && formik.errors.profileImage ? <p className='text-danger'>{formik.errors.profileImage} </p> : \"\"}\r\n\r\n                        </div>\r\n                        <div class=\"form__group\">\r\n                            <button type=\"submit\" class=\"btn btn--green u-center-text\">\r\n                                Register&rarr;\r\n                            </button>\r\n                            <Link type=\"submit\" class=\"btn  u-center-text\" to='/login'>\r\n                                Login\r\n                            </Link>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </>\r\n}\r\nexport default Register"]},"metadata":{},"sourceType":"module"}